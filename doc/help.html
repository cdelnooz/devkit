<h1 id="devkithelp">devkit help</h1>

<h2 id="devkit">devkit</h2>

<p>The devkit makefiles together define a build system that extends
the &#8220;standard&#8221; targets (as documented by GNU make) with a few extras
for performing common maintenance functions. The basic principles
are:</p>

<ul>
<li>the standard make targets are magically recursive</li>
<li>$(LANGUAGE).mk extends standard targets by defining &#8220;dependent&#8221; actions</li>
<li>per-system tool customisations defined in $(OS).mk, $(ARCH).mk</li>
<li>all system-specific files are saved in $(archdir) subdirectory</li>
<li>file dependencies are auto-included, and auto-generated by build target.</li>
<li>traditional macros work as expected (e.g. CFLAGS, LDFLAGS)</li>
</ul>

<p>This file defines variables according to the conventions described
in the GNU make documentation (c.f. &#8220;Makefile Conventions&#8221; section).</p>

<p>Note that these directories are not truly faithful to the GNU doc.s,
in particular I avoid the $(archdir) suffix, for most of the
installation directories. This is more useful in practice.</p>

<h2 id="valid">valid</h2>

<p>The &#8220;valid&#8221; module is a library of validation tests in the form of
make targets. These are used by various metarules in the build
system.</p>

<h2 id="mk">mk</h2>

<p>&#8220;lang/mk&#8221; contains rules for managing makefiles. These are just
customisations of the standard make targets.</p>

<h2 id="markdown">markdown</h2>

<p>The markdown module recognises both &#8220;original&#8221; markdown files
(&#8220;.md&#8221;), and &#8220;multimarkdown&#8221; files (&#8220;.mmd&#8221;), defined by MD_SRC and
MMD_SRC respectively. MMD files are assumed to create full
documents, and are created by <code>build</code>, using multimarkdown. There
are pattern rules for converting MD src to HTML, but markdown
doesn&#8217;t create a full HTML document, and they aren&#8217;t built by
default.</p>

<h2 id="darwin">darwin</h2>

<p>The &#8220;darwin&#8221; module contains customisations for the Darwin OS,
i.e. Mac OS X. Libraries are a little quirky under darwin, and in
particular, you can&#8217;t move a library after building it. ranlib(1)
resets whatever needs to be done, and the build rules will apply it
if defined.</p>

<h2 id=".mk">.mk</h2>

<p>The project include file defines overall customisations for existing
rules. This is the &#8220;no-project&#8221; project, which contains some default
settings to consider as a template.</p>

<p>Do not edit this file!
It was automatically generated on Fri Sep 12 14:31:29 EST 2014</p>
